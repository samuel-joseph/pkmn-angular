{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nlet PlayerComponent = class PlayerComponent {\n  constructor(dialogRef) {\n    this.dialogRef = dialogRef;\n    this.myPokemons = [];\n    this.movesAllReady = false;\n  }\n  battleReady(response) {\n    console.log(\"AM I HERE? \", response);\n    this.movesAllReady = response;\n  }\n  modifyMove(idMove, idPokemon, str) {\n    console.log(idMove, idPokemon, str);\n    let indexPokemon = this.myPokemons.findIndex(pokemon => pokemon.id === idPokemon);\n    let myPokemon = this.myPokemons[indexPokemon];\n    let indexMove;\n    if (str === 'add') {\n      indexMove = this.myPokemons[indexPokemon].dbMoves.findIndex(move => move.id === idMove);\n      myPokemon.moves.push(myPokemon.dbMoves[indexMove]);\n      myPokemon.dbMoves.splice(indexMove, 1);\n    } else if (str === 'subtract') {\n      indexMove = this.myPokemons[indexPokemon].moves.findIndex(move => move.id === idMove);\n      myPokemon.dbMoves.push(myPokemon.moves[indexMove]);\n      myPokemon.moves.splice(indexMove, 1);\n    }\n    if (myPokemon.moves.length == 4) {\n      const firstPokemon = this.myPokemons.shift();\n      if (firstPokemon) {\n        this.myPokemons.push(firstPokemon);\n      }\n    }\n    this.allMovesReady();\n  }\n  allMovesReady() {\n    let checker = this.myPokemons.filter(pokemon => pokemon.moves.length < 4 || pokemon.dbMoves.length == 0);\n    if (checker.length == 0) {\n      this.movesAllReady = true;\n    }\n  }\n  ngOnInit() {}\n};\n__decorate([Input()], PlayerComponent.prototype, \"myPokemons\", void 0);\nPlayerComponent = __decorate([Component({\n  selector: 'app-player',\n  templateUrl: './player.component.html',\n  styleUrls: ['./player.component.scss']\n})], PlayerComponent);\nexport { PlayerComponent };","map":{"version":3,"names":["Component","Input","PlayerComponent","constructor","dialogRef","myPokemons","movesAllReady","battleReady","response","console","log","modifyMove","idMove","idPokemon","str","indexPokemon","findIndex","pokemon","id","myPokemon","indexMove","dbMoves","move","moves","push","splice","length","firstPokemon","shift","allMovesReady","checker","filter","ngOnInit","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/joe/Desktop/newProject2023/pkmn-angular/pkmn-angular/src/app/player/player.component.ts"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\nimport { PokemonModel } from '../model/pokemon-model.model';\n\n@Component({\n  selector: 'app-player',\n  templateUrl: './player.component.html',\n  styleUrls: ['./player.component.scss']\n})\nexport class PlayerComponent implements OnInit{\n  constructor( private dialogRef: MatDialog\n  ) { }\n  @Input() myPokemons: PokemonModel[] = []\n  movesAllReady = false\n\n  battleReady(response: any) {\n    console.log(\"AM I HERE? \",response)\n    this.movesAllReady = response\n  }\n\n  modifyMove(idMove: number, idPokemon: number, str: string) {\n    console.log(idMove, idPokemon, str)\n    let indexPokemon = this.myPokemons.findIndex(pokemon => pokemon.id === idPokemon)\n    let myPokemon = this.myPokemons[indexPokemon]\n    let indexMove\n\n    if (str === 'add') {\n      indexMove = this.myPokemons[indexPokemon].dbMoves.findIndex(move => move.id === idMove)\n      myPokemon.moves.push(myPokemon.dbMoves[indexMove])\n      myPokemon.dbMoves.splice(indexMove, 1)\n    } else if (str === 'subtract') {\n      indexMove = this.myPokemons[indexPokemon].moves.findIndex(move => move.id === idMove)\n      myPokemon.dbMoves.push(myPokemon.moves[indexMove])\n      myPokemon.moves.splice(indexMove, 1)\n    }\n\n    if (myPokemon.moves.length == 4) {\n      const firstPokemon = this.myPokemons.shift()\n      if(firstPokemon){\n        this.myPokemons.push(firstPokemon)\n      }\n    }\n\n    this.allMovesReady()\n  }\n\n  allMovesReady(){\n    let checker = this.myPokemons.filter(pokemon => pokemon.moves.length < 4||pokemon.dbMoves.length==0)\n    if (checker.length == 0) {\n      this.movesAllReady = true\n    }\n  }\n\n  ngOnInit(): void {}\n}\n\n"],"mappings":";AAAA,SAASA,SAAS,EAAUC,KAAK,QAAQ,eAAe;AAQxD,IAAaC,eAAe,GAA5B,MAAaA,eAAe;EAC1BC,YAAqBC,SAAoB;IAApB,KAAAA,SAAS,GAATA,SAAS;IAErB,KAAAC,UAAU,GAAmB,EAAE;IACxC,KAAAC,aAAa,GAAG,KAAK;EAFjB;EAIJC,WAAWA,CAACC,QAAa;IACvBC,OAAO,CAACC,GAAG,CAAC,aAAa,EAACF,QAAQ,CAAC;IACnC,IAAI,CAACF,aAAa,GAAGE,QAAQ;EAC/B;EAEAG,UAAUA,CAACC,MAAc,EAAEC,SAAiB,EAAEC,GAAW;IACvDL,OAAO,CAACC,GAAG,CAACE,MAAM,EAAEC,SAAS,EAAEC,GAAG,CAAC;IACnC,IAAIC,YAAY,GAAG,IAAI,CAACV,UAAU,CAACW,SAAS,CAACC,OAAO,IAAIA,OAAO,CAACC,EAAE,KAAKL,SAAS,CAAC;IACjF,IAAIM,SAAS,GAAG,IAAI,CAACd,UAAU,CAACU,YAAY,CAAC;IAC7C,IAAIK,SAAS;IAEb,IAAIN,GAAG,KAAK,KAAK,EAAE;MACjBM,SAAS,GAAG,IAAI,CAACf,UAAU,CAACU,YAAY,CAAC,CAACM,OAAO,CAACL,SAAS,CAACM,IAAI,IAAIA,IAAI,CAACJ,EAAE,KAAKN,MAAM,CAAC;MACvFO,SAAS,CAACI,KAAK,CAACC,IAAI,CAACL,SAAS,CAACE,OAAO,CAACD,SAAS,CAAC,CAAC;MAClDD,SAAS,CAACE,OAAO,CAACI,MAAM,CAACL,SAAS,EAAE,CAAC,CAAC;KACvC,MAAM,IAAIN,GAAG,KAAK,UAAU,EAAE;MAC7BM,SAAS,GAAG,IAAI,CAACf,UAAU,CAACU,YAAY,CAAC,CAACQ,KAAK,CAACP,SAAS,CAACM,IAAI,IAAIA,IAAI,CAACJ,EAAE,KAAKN,MAAM,CAAC;MACrFO,SAAS,CAACE,OAAO,CAACG,IAAI,CAACL,SAAS,CAACI,KAAK,CAACH,SAAS,CAAC,CAAC;MAClDD,SAAS,CAACI,KAAK,CAACE,MAAM,CAACL,SAAS,EAAE,CAAC,CAAC;;IAGtC,IAAID,SAAS,CAACI,KAAK,CAACG,MAAM,IAAI,CAAC,EAAE;MAC/B,MAAMC,YAAY,GAAG,IAAI,CAACtB,UAAU,CAACuB,KAAK,EAAE;MAC5C,IAAGD,YAAY,EAAC;QACd,IAAI,CAACtB,UAAU,CAACmB,IAAI,CAACG,YAAY,CAAC;;;IAItC,IAAI,CAACE,aAAa,EAAE;EACtB;EAEAA,aAAaA,CAAA;IACX,IAAIC,OAAO,GAAG,IAAI,CAACzB,UAAU,CAAC0B,MAAM,CAACd,OAAO,IAAIA,OAAO,CAACM,KAAK,CAACG,MAAM,GAAG,CAAC,IAAET,OAAO,CAACI,OAAO,CAACK,MAAM,IAAE,CAAC,CAAC;IACpG,IAAII,OAAO,CAACJ,MAAM,IAAI,CAAC,EAAE;MACvB,IAAI,CAACpB,aAAa,GAAG,IAAI;;EAE7B;EAEA0B,QAAQA,CAAA,GAAU;CACnB;AA1CUC,UAAA,EAARhC,KAAK,EAAE,C,kDAAgC;AAH7BC,eAAe,GAAA+B,UAAA,EAL3BjC,SAAS,CAAC;EACTkC,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,C,EACWlC,eAAe,CA6C3B;SA7CYA,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}