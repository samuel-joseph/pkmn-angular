{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nimport { PopUpComponent } from '../pop-up/pop-up/pop-up.component';\nlet PlayerComponent = class PlayerComponent {\n  constructor(dialogRef) {\n    this.dialogRef = dialogRef;\n    this.myPokemons = [];\n  }\n  battleReady() {\n    this.dialogRef.open(PopUpComponent);\n  }\n  modifyMove(idMove, idPokemon, str) {\n    console.log(idMove, idPokemon, str);\n    let indexPokemon = this.myPokemons.findIndex(pokemon => pokemon.id === idPokemon);\n    let myPokemon = this.myPokemons[indexPokemon];\n    let indexMove;\n    if (str === 'add') {\n      indexMove = this.myPokemons[indexPokemon].dbMoves.findIndex(move => move.id === idMove);\n      myPokemon.moves.push(myPokemon.dbMoves[indexMove]);\n      myPokemon.dbMoves.splice(indexMove, 1);\n    } else if (str === 'subtract') {\n      indexMove = this.myPokemons[indexPokemon].moves.findIndex(move => move.id === idMove);\n      myPokemon.dbMoves.push(myPokemon.moves[indexMove]);\n      myPokemon.moves.splice(indexMove, 1);\n    }\n    if (myPokemon.moves.length == 4) {\n      const firstPokemon = this.myPokemons.shift();\n      if (firstPokemon) {\n        this.myPokemons.push(firstPokemon);\n      }\n    }\n  }\n  ngOnInit() {}\n};\n__decorate([Input()], PlayerComponent.prototype, \"myPokemons\", void 0);\nPlayerComponent = __decorate([Component({\n  selector: 'app-player',\n  templateUrl: './player.component.html',\n  styleUrls: ['./player.component.scss']\n})], PlayerComponent);\nexport { PlayerComponent };","map":{"version":3,"names":["Component","Input","PopUpComponent","PlayerComponent","constructor","dialogRef","myPokemons","battleReady","open","modifyMove","idMove","idPokemon","str","console","log","indexPokemon","findIndex","pokemon","id","myPokemon","indexMove","dbMoves","move","moves","push","splice","length","firstPokemon","shift","ngOnInit","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/joe/Desktop/newProject2023/pkmn-angular/pkmn-angular/src/app/player/player.component.ts"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\nimport { PokemonModel } from '../model/pokemon-model.model';\n\nimport { MatDialog } from '@angular/material/dialog';\nimport { PopUpComponent } from '../pop-up/pop-up/pop-up.component';\n\n@Component({\n  selector: 'app-player',\n  templateUrl: './player.component.html',\n  styleUrls: ['./player.component.scss']\n})\nexport class PlayerComponent implements OnInit{\n  constructor( private dialogRef: MatDialog\n  ) { }\n  @Input() myPokemons: PokemonModel[] = []\n\n  battleReady() {\n    this.dialogRef.open(PopUpComponent)\n  }\n\n  modifyMove(idMove: number, idPokemon: number, str: string) {\n    console.log(idMove, idPokemon, str)\n    let indexPokemon = this.myPokemons.findIndex(pokemon => pokemon.id === idPokemon)\n    let myPokemon = this.myPokemons[indexPokemon]\n    let indexMove\n\n    if (str === 'add') {\n      indexMove = this.myPokemons[indexPokemon].dbMoves.findIndex(move => move.id === idMove)\n      myPokemon.moves.push(myPokemon.dbMoves[indexMove])\n      myPokemon.dbMoves.splice(indexMove, 1)\n    } else if (str === 'subtract') {\n      indexMove = this.myPokemons[indexPokemon].moves.findIndex(move => move.id === idMove)\n      myPokemon.dbMoves.push(myPokemon.moves[indexMove])\n      myPokemon.moves.splice(indexMove, 1)\n    }\n\n    if (myPokemon.moves.length == 4) {\n      const firstPokemon = this.myPokemons.shift()\n      if(firstPokemon){\n        this.myPokemons.push(firstPokemon)\n      }\n    }\n  }\n\n  ngOnInit(): void {}\n}\n\n"],"mappings":";AAAA,SAASA,SAAS,EAAUC,KAAK,QAAQ,eAAe;AAIxD,SAASC,cAAc,QAAQ,mCAAmC;AAOlE,IAAaC,eAAe,GAA5B,MAAaA,eAAe;EAC1BC,YAAqBC,SAAoB;IAApB,KAAAA,SAAS,GAATA,SAAS;IAErB,KAAAC,UAAU,GAAmB,EAAE;EADpC;EAGJC,WAAWA,CAAA;IACT,IAAI,CAACF,SAAS,CAACG,IAAI,CAACN,cAAc,CAAC;EACrC;EAEAO,UAAUA,CAACC,MAAc,EAAEC,SAAiB,EAAEC,GAAW;IACvDC,OAAO,CAACC,GAAG,CAACJ,MAAM,EAAEC,SAAS,EAAEC,GAAG,CAAC;IACnC,IAAIG,YAAY,GAAG,IAAI,CAACT,UAAU,CAACU,SAAS,CAACC,OAAO,IAAIA,OAAO,CAACC,EAAE,KAAKP,SAAS,CAAC;IACjF,IAAIQ,SAAS,GAAG,IAAI,CAACb,UAAU,CAACS,YAAY,CAAC;IAC7C,IAAIK,SAAS;IAEb,IAAIR,GAAG,KAAK,KAAK,EAAE;MACjBQ,SAAS,GAAG,IAAI,CAACd,UAAU,CAACS,YAAY,CAAC,CAACM,OAAO,CAACL,SAAS,CAACM,IAAI,IAAIA,IAAI,CAACJ,EAAE,KAAKR,MAAM,CAAC;MACvFS,SAAS,CAACI,KAAK,CAACC,IAAI,CAACL,SAAS,CAACE,OAAO,CAACD,SAAS,CAAC,CAAC;MAClDD,SAAS,CAACE,OAAO,CAACI,MAAM,CAACL,SAAS,EAAE,CAAC,CAAC;KACvC,MAAM,IAAIR,GAAG,KAAK,UAAU,EAAE;MAC7BQ,SAAS,GAAG,IAAI,CAACd,UAAU,CAACS,YAAY,CAAC,CAACQ,KAAK,CAACP,SAAS,CAACM,IAAI,IAAIA,IAAI,CAACJ,EAAE,KAAKR,MAAM,CAAC;MACrFS,SAAS,CAACE,OAAO,CAACG,IAAI,CAACL,SAAS,CAACI,KAAK,CAACH,SAAS,CAAC,CAAC;MAClDD,SAAS,CAACI,KAAK,CAACE,MAAM,CAACL,SAAS,EAAE,CAAC,CAAC;;IAGtC,IAAID,SAAS,CAACI,KAAK,CAACG,MAAM,IAAI,CAAC,EAAE;MAC/B,MAAMC,YAAY,GAAG,IAAI,CAACrB,UAAU,CAACsB,KAAK,EAAE;MAC5C,IAAGD,YAAY,EAAC;QACd,IAAI,CAACrB,UAAU,CAACkB,IAAI,CAACG,YAAY,CAAC;;;EAGxC;EAEAE,QAAQA,CAAA,GAAU;CACnB;AA/BUC,UAAA,EAAR7B,KAAK,EAAE,C,kDAAgC;AAH7BE,eAAe,GAAA2B,UAAA,EAL3B9B,SAAS,CAAC;EACT+B,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,C,EACW9B,eAAe,CAkC3B;SAlCYA,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}